{"version":3,"sources":["src/transaction.js"],"names":["axios","require","NodeRSA","module","exports","options","this","_public_key","public_key","_api_host","api_host","_api_key","api_key","_origin","origin","_service_provider_code","service_provider_code","_initiator_identifier","initiator_identifier","_security_credential","security_credential","_validMSISDN","_isValidMSISDN","msisdn","isValid","parseInt","length","substring","buffer","_validateAmount","amount","isNaN","parseFloat","validation_errors","_isValidated","type","data","push","reference","third_party_reference","query_reference","transaction_id","_getBearerToken","certificate","setOptions","encryptionScheme","importKey","Buffer","from","token","encrypt","toString","Error","_request_headers","_requestAsPromiseFrom","request","Promise","resolve","reject","then","response","catch","error","c2b","transaction_data","method","url","input_ServiceProviderCode","input_CustomerMSISDN","input_Amount","toFixed","input_TransactionReference","input_ThirdPartyReference","headers","query","query_data","input_QueryReference","reverse","input_ReversalAmount","Number","input_TransactionID","input_InitiatorIdentifier","input_SecurityCredential","Content-Type","Origin","Authorization"],"mappings":"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"}