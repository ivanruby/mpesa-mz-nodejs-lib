{"version":3,"sources":["src/transaction.js"],"names":["axios","require","NodeRSA","module","exports","options","this","_public_key","public_key","_api_host","api_host","_api_key","api_key","_origin","origin","_service_provider_code","service_provider_code","_initiator_identifier","initiator_identifier","_security_credential","security_credential","_validMSISDN","_isValidMSISDN","msisdn","isValid","parseInt","length","substring","buffer","_validateAmount","amount","isNaN","parseFloat","validation_errors","_isValidated","type","data","push","reference","third_party_reference","query_reference","transaction_id","_getBearerToken","certificate","setOptions","encryptionScheme","importKey","Buffer","from","token","encrypt","toString","Error","_request_headers","c2b","transaction_data","request","method","url","input_ServiceProviderCode","input_CustomerMSISDN","input_Amount","toFixed","input_TransactionReference","input_ThirdPartyReference","headers","Promise","resolve","reject","then","response","console","log","catch","error","query","query_data","reverse","input_ReversalAmount","Number","input_TransactionID","input_InitiatorIdentifier","input_SecurityCredential","Content-Type","Origin","Authorization"],"mappings":"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"}