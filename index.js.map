{"version":3,"sources":["src/transaction.js"],"names":["axios","require","NodeRSA","module","exports","options","this","_public_key","public_key","_api_host","api_host","_api_key","api_key","_origin","origin","_service_provider_code","service_provider_code","_initiator_identifier","initiator_identifier","_security_credential","security_credential","_validMSISDN","_isValidMSISDN","msisdn","isValid","parseInt","length","substring","buffer","validation_errors","_isValidated","type","data","push","amount","isNaN","parseFloat","reference","third_party_reference","query_reference","transaction_id","_getBearerToken","certificate","setOptions","encryptionScheme","importKey","Buffer","from","token","encrypt","toString","Error","_request_headers","c2b","transaction_data","request","method","url","input_ServiceProviderCode","input_CustomerMSISDN","input_Amount","toFixed","input_TransactionReference","input_ThirdPartyReference","headers","Promise","resolve","reject","then","response","console","log","catch","error","query","query_data","reverse","input_ReversalAmount","Number","input_TransactionID","input_InitiatorIdentifier","input_SecurityCredential","request_headers","Content-Type","Origin","Authorization"],"mappings":"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"}