{"version":3,"sources":["src/transaction.js"],"names":["axios","require","NodeRSA","module","exports","options","this","_public_key","public_key","_api_host","api_host","_api_key","api_key","_origin","origin","_service_provider_code","service_provider_code","_initiator_identifier","initiator_identifier","_security_credential","security_credential","_validMSISDN","_isValidMSISDN","msisdn","isValid","parseInt","length","substring","buffer","validation_errors","_isValidated","type","data","push","amount","isNaN","parseFloat","reference","third_party_reference","query_reference","console","log","transaction_id","_getBearerToken","certificate","setOptions","encryptionScheme","importKey","Buffer","from","token","encrypt","toString","Error","_request_headers","c2b","transaction_data","request","method","url","input_ServiceProviderCode","input_CustomerMSISDN","input_Amount","toFixed","input_TransactionReference","input_ThirdPartyReference","headers","Promise","resolve","reject","then","response","catch","error","query","query_data","reverse","input_ReversalAmount","Number","input_TransactionID","input_InitiatorIdentifier","input_SecurityCredential","Content-Type","Origin","Authorization"],"mappings":"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"}